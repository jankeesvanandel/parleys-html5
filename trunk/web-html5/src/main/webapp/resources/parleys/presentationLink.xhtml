<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://www.parleys.com/jsf/taglib"
      xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
    <composite:attribute name="presentation" type="com.parleys.server.dto.PresentationOverviewDTO" required="true"/>
    <composite:attribute name="label" type="java.lang.String" default="#{cc.attrs.presentation.title}"/>
    <composite:attribute name="renderThumbnail" type="java.lang.Boolean" default="true"/>
    <composite:attribute name="renderLabel" type="java.lang.Boolean" default="true"/>
    <composite:attribute name="renderSubLabel" type="java.lang.Boolean" default="true"/>
    <composite:attribute name="renderDescription" type="java.lang.Boolean" default="true"/>
    <composite:attribute name="renderStats" type="java.lang.Boolean" default="false"/>
    <composite:attribute name="styleClasses" type="java.lang.String" default=""/>
</composite:interface>
<composite:implementation>
    <h:link outcome="presentation">
        <f:param name="id" value="#{cc.attrs.presentation.id}"/>
        <div class="#{cc.attrs.styleClasses}">
            <h:graphicImage rendered="#{cc.attrs.renderThumbnail}"
                            value="#{p:presentationThumbnail(cc.attrs.presentation.id, cc.attrs.presentation.thumbnailURL)}"
                            alt="#{cc.attrs.label}"
                            height="88px" width="133px"/>
        </div>
        <div class="content">
            <h4><h:outputText value="#{cc.attrs.label}" rendered="#{cc.attrs.renderLabel}"/></h4><br/>
            <h:outputText value="#{p:subLabel(cc.attrs.presentation)}" rendered="#{cc.attrs.renderSubLabel}"/>
            <br/><br/>
            <h:outputText escape="false" rendered="#{cc.attrs.renderDescription}" value="#{cc.attrs.presentation.summary}"/><br/>
            <h:outputText rendered="#{cc.attrs.renderStats}" value="#{p:formatNumber(cc.attrs.presentation.totalVotes)} votes"/><br/>
            <h:outputText rendered="#{cc.attrs.renderStats}" value="#{p:formatNumber(cc.attrs.presentation.totalViews)} views"/><br/>
            <h:outputText rendered="#{cc.attrs.renderStats}" value="#{p:formatNumber(cc.attrs.presentation.totalDownloads)} downloads"/><br/>
            <h:outputText rendered="#{cc.attrs.renderStats}" value="#{p:formatNumber(cc.attrs.presentation.totalComments)} comments"/><br/>            
        </div>
    </h:link>
</composite:implementation>
</html>
