#summary Parleys.com REST calls information.
#labels Parleys,Rest,JAX-RS

= Introduction =

On this page you can find more information about the Parleys.com server API that (mobile) applications can use to display and play presentations. 

Steps:
  * Retrieve and show available mobile enabled spaces (Step 1)
  * Retrieve and show related channels (Step 2)
  * Retrieve and show presentations in the selected channel (Step 3)
  * And finally download the related audio file (mp3) and show slides (Step 4)

= TODOs =

  * Support pure RESTful interface (Q2 2010)
  * Support none mobile enabled Spaces, Channels and Presentations (Q2 2010)
  * Support paging for channel retrieval (Q2 2010)
  * Include full URL of the assets in the JSON value (Q2 2010) 

= Available Methods =

The Parleys.com server supports REST like remote HTTP GET methods and returns JSON messages.

----------------------------------------------------------------------------

1) Retrieving mobile enabled spaces

Example:
{{{ http://www.parleys.com/parleysserver/rest/mobile/spaces.form?index=0&paging=2 }}}

  * index = the starting index, zero based (mandatory)
  * paging = the number of items per index (mandatory)

This HTTP GET method will return the following JSON message :

{{{ [{"id":1,"thumbnail":"\/thumb200904062302025672778.png","description":"The Java User Group Space is FREE for any JUG around the world.  Mail us and we'll setup your JUG chanmel today so you can start publishing your presentations and share it with the community.","name":"Only JUGs"},{"id":189,"thumbnail":"\/thumb200904071422016602788.png","description":"The dedicated Devoxx Space where many of the Devoxx and JavaPolis presentations are located.","name":"Devoxx"}] }}}

To access the space thumbnail you need to construct the URL as follows :

{{{ http://www.parleys.com/assets/spaces/ [space ID] / [thumbnail value] }}}

----------------------------------------------------------------------------

2) Retrieving mobile enabled channels

Example:
{{{ http://www.parleys.com/parleysserver/rest/mobile/channels.form?id=189 }}} 

The above method will retrieve all channels for the space with identifier 1.
Index and paging is not yet available for this method.

{{{ [{"id":566,"thumbnail":"\/thumb201002271811242223904.png","description":"The Devoxx'08 channel contains (eventually) all the conference and university talks from the biggest independent Java conference in the world.  Watch and learn!","name":"Devoxx'08"},{"id":1839,"thumbnail":"\/thumb200904071540051368187.png","description":"The dedicated JavaPolis channel for the year 2007.","name":"JavaPolis'07"},{"id":2108,"thumbnail":"\/thumb200904071539456267388.png","description":"The JavaPolis 2006 conference talks.","name":"JavaPolis'06"},{"id":74956,"thumbnail":"\/thumb200910041543339677160.jpg","description":"This channel holds several SpringOne presentations.","name":"SpringOne"},{"id":74957,"thumbnail":"\/thumb200911031050484162309.png","description":"The Devoxx'09 channel contains ALL the University, Tools in Action and Conference presentations!","name":"Devoxx'09"}] }}}

To access the channel thumbnails you need to construct the URL as follows :

{{{ http://www.parleys.com/assets/channels/ [channel ID] / [asset value] }}}

----------------------------------------------------------------------------

3) Retrieving mobile enabled presentations

Example:
{{{ http://www.parleys.com/parleysserver/rest/mobile/presentations.form?id=566&index=0&paging=2 }}} 

  * index = the starting index, zero based (mandatory)
  * paging = the number of items per index (mandatory)

This HTTP GET method will return the following JSON message :

{{{ [{"summary":"JRuby is now well-established as a popular and powerful JVM dynamic language. But why would you want to use it?","id":321,"duration":3014.18,"title":"JRuby","thumbnail":"\/thumb200906231516542403179.jpg","keywords":"jruby,gui,rails,ruby,monkeybars,netbeans,matisse","MP3URL":"\/200908131437181691033.mp3","pageId":0,"totalVotes":211,"totalDownloads":2,"speakers":[{"id":293,"bio":"Charles NutterBIOCharles Nutter has been a Java developer since 1996, recently working as the senior Java architect at Ventera Corp and in September moved to Sun to work full-time on JRuby! He led the open-source LiteStep project in the late 90s and came to Ruby in the fall of 2004. Since then he has been a member of the JRuby team, helping to make it a true alternative Ruby platform. Charles presented JRuby at RubyConf 2005 and co-presented at JavaOne 2006 with Thomas Enebo. He hopes to co-write a JRuby book this fall with Thomas to follow up a planned JRuby 1.0 release. Charles currently works on a Ventera contract for the USDAs Food and Nutrition Service at their office in Minneapolis.Presenting    * JRuby in Action - University    * JRuby - ConferenceCarl Quinn Speakers Chery Sylvain","fullname":"Charles Nutter"},{"id":294,"bio":"Thomas Enebo is project manager and a developer of the open source project JRuby. He is a developer at the University of Minnesota and a consultant with Aandtech Inc. Tom has been using Java in some fashion since its first public beta release. He became interested in Ruby after seeing an elegant re-implementation of some Perl code. Tom joined the JRuby project some time in late 2002.","fullname":"Thomas Enebo"}],"type":"VIDEO_AND_SLIDES"}] }}}

To access the presentation thumbnails you need to construct the URL as follows :

{{{ http://www.parleys.com/assets/presentations/ [presentation ID] / [thumbnail value] }}}

----------------------------------------------------------------------------

4) Retrieving the Presentation assets

{{{ http://www.parleys.com/parleysserver/rest/mobile/assets.form?id=321 }}}

Assets represents the presentation slides which includes the title name, sequence, duration and link to the actual slide image file.

{{{ [{"id":12396,"duration":26.961,"cuepoint":0.0,"sequence":1,"name":"JRuby: Up and Running!","value":"\/iphone_200906231517143771124.jpg","target":"SLIDE_PANEL","type":"IMAGE"},{"id":12397,"duration":9.011,"cuepoint":21.95,"sequence":2,"name":"Agenda","value":"\/iphone_200906231517061642212.jpg","target":"SLIDE_PANEL","type":"IMAGE"}, ... }}}


To access/download a presentation asset you need to construct the URL as follows :

{{{ http://www.parleys.com/assets/presentations/ [presentation ID] / [asset value] }}}